<!DOCTYPE html>

<html xmlns:th="http://www.thymeleaf.org" lang="en">

<head>
    <meta http-equiv="Content-Type" content="text/html" charset="UTF-8">
    <title>Create a Quiz</title>
    <link rel="stylesheet" type="text/css" href="/css/styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Recursive:wght@600&display=swap" rel="stylesheet">
<!--    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">-->
</head>

<body>

    <div class="container main">

        <form th:action="@{/create}" th:object="${quiz}" method="post">

            <div class="flex-column">
                <label>Title</label>
                <textarea type="text" class="form-control" th:field="*{title}" rows="1"></textarea>
                <div th:if="${#fields.hasErrors('title')}" th:errors="*{title}">Error</div>
            </div>

            <div class="flex-column">
                <label>Question</label>
                <textarea type="text" class="form-control" th:field="*{text}" rows="2"></textarea>
                <div th:if="${#fields.hasErrors('text')}" th:errors="*{text}">Error</div>
            </div>

            <div class="form-row">
                <strong>Does the question have more than one answer?</strong>
            </div>

            <div class="col-md-6">
                <div class="form-row">
                    <input type="radio" th:field="*{isMultipleChoice}" id="option1" value="true">
                    <label for="option1">More than one answer</label>
                </div>
                <div class="form-row">
                    <input type="radio" th:field="*{isMultipleChoice}" id="option2" value="false">
                    <label for="option2">A single answer</label>
                </div>
            </div>

            <div class="form-row">
                <strong>Options</strong>
            </div>

            <div class="flex-column">
                <div th:each="option, rowStat : *{options}">
                    <input type="text" th:field="*{options[__${rowStat.index}__].option}">
                </div>
                <button type="submit" name="addOption">Add option</button>
            </div>

            <div class="form-row">
                <strong>Answers</strong>
                <!-- todo implement answers -->
            </div>

            <div class="flex-column">
                <div th:each="answer, rowStat : *{answers}">
                    <input type="text" th:field="*{answers[__${rowStat.index}__].answer}">
                </div>
                <button type="submit" name="addAnswer">Add answer</button>
            </div>

            <div class="center">
                <a th:href="@{/}">
                    <button type="submit" name="save">Save Quiz</button>
                </a>
            </div>

        </form>

    </div>

    <div class="center">
        <a th:href="@{/}">
            <button>Home</button>
        </a>
    </div>

</body>

</html>